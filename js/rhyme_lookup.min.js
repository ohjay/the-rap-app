var mobytrie=new Trie,mobyword;for(mobyword in mobypron)if(mobypron.hasOwnProperty(mobyword)){var fields=mobypron[mobyword].split(/\/+/);mobytrie.insert(fields,mobyword)}for(var wordTrie=new Trie,words=Object.keys(mobypron),numWords=words.length,i=0;i<numWords;i++){var word=words[i];wordTrie.insert(word.split(""),word)}
var fromTrie=function(a){4<a.length?a.splice(0,a.length-3):2<a.length&&a.splice(0,a.length-2);a=mobytrie.autoComplete(a);return 0==a.length?["grandfather clock"]:[a[Math.floor(Math.random()*a.length)]]},pluralFromTrie=function(a){a=fromTrie(a);a[0]=a[0].concat("s");return a},lookup=function(a){if("*"===a.slice(-1))switch(a){case "n****":return["gold digga"];case "f***":return["luck"];case "s***":return["hit"]}else{if(mobypron.hasOwnProperty(a))return fromTrie(mobypron[a].split(/\/+/));if(mobypron.hasOwnProperty(a.toLowerCase()))return fromTrie(mobypron[a.toLowerCase()].split(/\/+/));
var c=a.substring(0,a.length-1);if("s"===a.slice(-1)&&mobypron.hasOwnProperty(c))return pluralFromTrie(mobypron[c].split(/\/+/));var b=wordTrie.getApproximation(a.toLowerCase().split(""));return null==b&&"s"===a.slice(-1)?(b=wordTrie.getApproximation(c.split("")),null==b?["grandmother clocks"]:pluralFromTrie(mobypron[b].split(/\/+/))):fromTrie(mobypron[b].split(/\/+/))}};