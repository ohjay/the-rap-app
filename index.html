<!DOCTYPE html>
<html lang="en">
<head>
	<LINK REL="icon" HREF="dragonhead.ico">
    <title>Rap App</title>
    
    <link rel="stylesheet" href="css/style.css" />
    <link href=' http://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet' type='text/css'>

</head>

<body background="black-background-blend.png">
	<!--
	<p> </p>
	<p> </p>
	<p> Yeah, I learned the game from William Wesley you can never check me </p>
	<p> ___ </p>
	<p> Back to back for the n****s that didn't get the message </p>
	<p> ___ </p>
	<p> Back to back like I'm on the cover of Lethal Weapon </p>
	<p> ___ </p>
	<p> Back to back like I'm Jordan '96, '97 </p>
	-->

	<!-- Images -->

	<div id="Drake">
		<img src = "drake-black-background(newest).png" alt="Drake" height="280"/>
	</div>

	<div id="Cole">
		<img src = "j-cole-black-background(new).png" alt="Cole" height="340"/>
	</div>

	<div id="Kanye">
		<img src = "kanye-black-background.png" alt="Kanye" height="380"/>
	</div>

	<div id="Kendrick">
		<img src = "kendrick-black-background(new).png" alt="Kendrick" height="260"/>
	</div>

    <p>Hey, welcome to the Rap App! I'm just testing out some speech recognition stuff right now.</p>
    <div id="log"></div>
    <div id="final-word"></div>
    
    <!-- Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>
        var newSpeechRecognition = function() {
            var r = new webkitSpeechRecognition();
            // r.interimResults = true;
            // r.continuous = true;
            
            r.onresult = function(event) {
                /* Only the final word */
                if (event.results[event.results.length - 1].isFinal) {
                    document.getElementById("final-word").innerHTML 
                            = "Final phrase: " + event.results[event.results.length - 1][0].transcript;
                    r.stop();
                }
                
                /* All words:
                var final_transcript = '';
                var interim_transcript = '';
                
                for (var i = event.resultIndex; i < event.results.length; i++) {
                    if (event.results[i].isFinal) {
                        final_transcript += event.results[i][0].transcript;
                        r.stop();
                    } else {
                        interim_transcript += event.results[i][0].transcript;
                    }
                }
            
                document.getElementById("final-transcript").innerHTML = final_transcript;
                document.getElementById("interim-transcript").innerHTML = interim_transcript; */
            };
            
            r.onerror = function(event) {
                $('#log').text('[ERROR] Might want to check that.');
            };
            
            r.onend = function() { 
                $('#log').text('It\'s over! It\'s all over!');
                recognition = newSpeechRecognition();
                recognition.start();
            };
            
            return r;
        }
        
        var recognition = newSpeechRecognition();
        recognition.start();
    </script>
</body>
</html>